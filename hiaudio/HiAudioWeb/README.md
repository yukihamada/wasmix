# ğŸµ HiAudio Pro Web Server

Ultra-low latency audio streaming web receiver that works seamlessly with the macOS HiAudio Pro sender application.

## ğŸš€ Quick Start

### 1. ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
cd ~/hiaudio/HiAudioWeb
./setup.sh
```

### 2. ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
npm start
```

### 3. æ¥ç¶šæ–¹æ³•
- **QRã‚³ãƒ¼ãƒ‰**: macOSã‚¢ãƒ—ãƒªã®ã€ŒWebã€ã‚¿ãƒ–ã§QRã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆãƒ»ã‚¹ã‚­ãƒ£ãƒ³
- **ç›´æ¥ã‚¢ã‚¯ã‚»ã‚¹**: ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://[your-ip]:3000` ã‚’é–‹ã

## ğŸµ ç‰¹å¾´

### ğŸ”Š é«˜éŸ³è³ªã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°
- **96kHz ã‚¹ãƒ†ãƒ¬ã‚ª**: ãƒ—ãƒ­ç´šéŸ³è³ª
- **32-bit Float**: é«˜ç²¾åº¦éŸ³å£°å‡¦ç†
- **Ultra-low latency**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ éŸ³å£°ä¼é€

### ğŸŒ WebæŠ€è¡“
- **WebSocket**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒæ–¹å‘é€šä¿¡
- **Web Audio API**: ãƒ–ãƒ©ã‚¦ã‚¶å†…éŸ³å£°å‡¦ç†
- **UDPå—ä¿¡**: macOSã‹ã‚‰ã®ç›´æ¥éŸ³å£°ãƒ‡ãƒ¼ã‚¿å—ä¿¡

### ğŸ“± ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- **ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³**: iPhone/Androidå¯¾å¿œ
- **ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ**: iPad/Android tabletå¯¾å¿œ
- **PC**: Windows/Mac/Linuxã®ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œ

## ğŸ› ï¸ æŠ€è¡“ä»•æ§˜

### ã‚µãƒ¼ãƒãƒ¼
- **Runtime**: Node.js 16+
- **WebSocket**: Socket.io v4.7+
- **HTTP Server**: Express.js
- **Audio Port**: UDP 55555

### Web Client  
- **Audio**: Web Audio API
- **Visualization**: Real-time spectrum analyzer & waveform
- **UI**: Responsive design with dark theme
- **Latency**: <10ms typical

### æ¥ç¶šãƒ•ãƒ­ãƒ¼
```
macOS App â†’ UDP Audio â†’ Node.js Server â†’ WebSocket â†’ Web Browser
```

## ğŸ“Š API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### GET /api/stats
ã‚µãƒ¼ãƒãƒ¼çµ±è¨ˆæƒ…å ±ã‚’å–å¾—
```json
{
  "uptime": 12345,
  "activeConnections": 2,
  "audioPacketsReceived": 50000,
  "localIP": "192.168.1.100",
  "port": 3000
}
```

### GET /api/connection-info  
æ¥ç¶šæƒ…å ±ã¨QRã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
```json
{
  "webUrl": "http://192.168.1.100:3000",
  "audioPort": 55555,
  "serverIP": "192.168.1.100",
  "qrCode": "data:image/png;base64,..."
}
```

## ğŸ›ï¸ è¨­å®š

### ç’°å¢ƒå¤‰æ•°
```bash
PORT=3000              # Webã‚µãƒ¼ãƒãƒ¼ãƒãƒ¼ãƒˆ
AUDIO_PORT=55555       # UDPéŸ³å£°ãƒãƒ¼ãƒˆ  
NODE_ENV=production    # æœ¬ç•ªç’°å¢ƒè¨­å®š
```

### ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ¼ãƒˆ
```bash
PORT=8080 npm start
```

## ğŸ”§ é–‹ç™º

### é–‹ç™ºãƒ¢ãƒ¼ãƒ‰
```bash
npm run dev  # nodemonä½¿ç”¨
```

### ãƒ“ãƒ«ãƒ‰
```bash
npm run build
```

## ğŸ“± ä½¿ç”¨ä¾‹

### 1. ã‚¹ã‚¿ã‚¸ã‚ªç›£è¦–
- ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‹ã‚¿ãƒ¼ã¯macOSã‚¢ãƒ—ãƒª
- ã‚µãƒ–ãƒ¢ãƒ‹ã‚¿ãƒ¼ã¨ã—ã¦ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆã‚„ã‚¹ãƒãƒ›ã§Webç‰ˆä½¿ç”¨

### 2. ãƒªãƒ¢ãƒ¼ãƒˆç›£è¦–
- é›¢ã‚ŒãŸå ´æ‰€ã‹ã‚‰ãƒ–ãƒ©ã‚¦ã‚¶ã§éŸ³å£°ç›£è¦–
- QRã‚³ãƒ¼ãƒ‰ã§ç°¡å˜æ¥ç¶š

### 3. è¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹åŒæ™‚å†ç”Ÿ
- è¤‡æ•°ã®ãƒ‡ãƒã‚¤ã‚¹ã§åŒæ™‚ã«éŸ³å£°å—ä¿¡
- åŒæœŸå†ç”Ÿå¯¾å¿œ

## ğŸš¨ æ³¨æ„äº‹é …

- **åŒä¸€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: macOSã‚¢ãƒ—ãƒªã¨åŒã˜Wi-Fiãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«æ¥ç¶šå¿…è¦
- **ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«**: ãƒãƒ¼ãƒˆ3000ã¨55555ã‚’é–‹æ”¾
- **HTTPS**: ä¸€éƒ¨ãƒ–ãƒ©ã‚¦ã‚¶ã§ã¯HTTPSãŒå¿…è¦ãªå ´åˆã‚ã‚Š

## ğŸ†˜ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### éŸ³å£°ãŒèã“ãˆãªã„
1. Webç”»é¢ã§ã€Œé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
2. macOSã‚¢ãƒ—ãƒªã§ã€Œã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°é–‹å§‹ã€
3. ãƒ–ãƒ©ã‚¦ã‚¶ã®éŸ³å£°è¨­å®šã‚’ç¢ºèª

### æ¥ç¶šã§ããªã„
1. åŒä¸€Wi-Fiãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¢ºèª
2. ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«è¨­å®šç¢ºèª  
3. ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ä¸­ã‹ç¢ºèª

### é…å»¶ãŒå¤§ãã„
1. Wi-Fiæ¥ç¶šã‚’æœ‰ç·šã«å¤‰æ›´
2. ä»–ã®å¸¯åŸŸä½¿ç”¨ã‚¢ãƒ—ãƒªã‚’çµ‚äº†
3. ãƒ«ãƒ¼ã‚¿ãƒ¼ã‚’å†èµ·å‹•

## ğŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### æ¨å¥¨ç’°å¢ƒ
- **CPU**: ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚³ã‚¢ä»¥ä¸Š
- **RAM**: 4GBä»¥ä¸Š  
- **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯**: 100Mbpsä»¥ä¸Š
- **ãƒ–ãƒ©ã‚¦ã‚¶**: Chrome 90+, Safari 14+, Firefox 88+

### å®Ÿæ¸¬å€¤
- **é…å»¶**: 5-15ms (typical)
- **CPUä½¿ç”¨ç‡**: <10% (idleæ™‚)
- **ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡**: <100MB
- **å¸¯åŸŸ**: ~6Mbps (96kHz stereo)

---

**ğŸµ HiAudio Pro - Professional Audio Streaming Solution**